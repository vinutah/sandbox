\documentclass{standalone}

\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{filecontents}
\usetikzlibrary{external} % allows tikz to generate cached figs
\tikzexternalize % turn on the external library

% This macro forces rebuild of tikz figure cache.
\tikzset{external/force remake}

\begin{filecontents*}{\jobname.dat}
x,y,z
0,0,0
0,1,0
0,2,0
0,3,0
0,4,0
0,5,0
0,6,0
0,7,0
0,8,0
0,9,0
0,10,0
0,11,0
0,12,0
0,13,0
0,14,0
0,15,0
0,16,0
0,17,0
0,18,0
0,19,0
0,20,0
0,21,0
0,22,0
1,0,0
1,1,0
1,2,0
1,3,0
1,4,0
1,5,0
1,6,0
1,7,0
1,8,0
1,9,0
1,10,0
1,11,0
1,12,0
1,13,0
1,14,0
1,15,0
1,16,0
1,17,0
1,18,0
1,19,0
1,20,0
1,21,0
1,22,0
2,0,2 
2,1,1  
2,2,0  
2,3,0  
2,4,0  
2,5,0  
2,6,0  
2,7,0  
2,8,0  
2,9,0  
2,10,0  
2,11,0  
2,12,0  
2,13,0  
2,14,0  
2,15,0  
2,16,0  
2,17,0  
2,18,0  
2,19,0  
2,20,0  
2,21,0  
2,22,0  
3,0,3 
3,1,1 
3,2,2 
3,3,2 
3,4,2 
3,5,1 
3,6,0 
3,7,1 
3,8,0 
3,9,0 
3,10,0 
3,11,0 
3,12,0 
3,13,0 
3,14,0 
3,15,0 
3,16,0 
3,17,0 
3,18,0 
3,19,0 
3,20,0 
3,21,0 
3,22,0 
4,0,2 
4,1,2 
4,2,3 
4,3,1 
4,4,1 
4,5,3 
4,6,4 
4,7,3 
4,8,2 
4,9,2 
4,10,1 
4,11,2 
4,12,1 
4,13,0 
4,14,0 
4,15,0 
4,16,0 
4,17,0 
4,18,0 
4,19,0 
4,20,0 
4,21,0 
4,22,0 
5,0,2 
5,1,2 
5,2,2 
5,3,2 
5,4,2 
5,5,1 
5,6,1 
5,7,3 
5,8,3 
5,9,1 
5,10,1 
5,11,1 
5,12,1 
5,13,3 
5,14,2 
5,15,1 
5,16,2 
5,17,1 
5,18,0 
5,19,0 
5,20,0 
5,21,0 
5,22,0 
6,0,1 
6,1,3  
6,2,0  
6,3,2  
6,4,1  
6,5,2  
6,6,2  
6,7,4  
6,8,2  
6,9,4  
6,10,4  
6,11,1  
6,12,1  
6,13,2  
6,14,2  
6,15,2  
6,16,0  
6,17,2  
6,18,3  
6,19,2  
6,20,2  
6,21,2  
6,22,1  
7,0,0
7,1,2
7,2,1
7,3,3
7,4,2
7,5,3
7,6,3
7,7,0
7,8,2
7,9,2
7,10,1
7,11,3
7,12,1
7,13,4
7,14,3
7,15,2
7,16,2
7,17,1
7,18,2
7,19,3
7,20,4
7,21,3
7,22,2
\end{filecontents*}

\begin{document}
%\begin{tikzpicture}
%  \begin{axis}[
%      title=Rectangle from patch input,
%      ]
%    \addplot3 table [header=true, col sep=comma, patch, shader=interp, patch type=rectangle] {\jobname.dat};
%  \end{axis}
%\end{tikzpicture}

\begin{tikzpicture}
  \begin{axis}[
    %nodes near coords={(\coordindex)},
    title=Rectangle from patch input,
    ]
    \addplot3 [patch, shader=interp, patch type=rectangle]
      table [col sep=comma] {\jobname.dat};
      %coordinates {
      %  (0,0,1)
      %  (1,0,0)
      %  (1,1,0)
      %  (0,1,0)
      %  };
  \end{axis}
\end{tikzpicture}
\end{document}
